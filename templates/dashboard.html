{% extends "layout.html" %}

{% block title %}Dashboard â€” QR Manager{% endblock %}

{% block head %}
<style>
    .avatar {
        width: 72px;
        height: 72px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #dee2e6;
    }

    .avatar-placeholder {
        width: 72px;
        height: 72px;
        border-radius: 50%;
        background-color: #e9ecef;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.75rem;
        color: #6c757d;
        border: 3px solid #dee2e6;
    }

    .info-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: .5rem 0;
        border-bottom: 1px solid #f1f3f5;
        font-size: .92rem;
    }

    .info-row:last-child {
        border-bottom: none;
    }

    .info-label {
        color: #6c757d;
        font-weight: 500;
    }

    .badge-verified {
        background-color: #d1fae5;
        color: #065f46;
        font-size: .75rem;
        padding: .25rem .6rem;
        border-radius: 999px;
        font-weight: 600;
    }
</style>
{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-12 col-md-7 col-lg-6">

        <!-- Profile card -->
        <div class="card p-4 mb-4">
            <div class="d-flex align-items-center gap-3 mb-4">
                {% if user.avatar_url %}
                    <img src="{{ user.avatar_url }}" alt="GitHub avatar" class="avatar">
                {% else %}
                    <div class="avatar-placeholder">ðŸ‘¤</div>
                {% endif %}

                <div>
                    <h1 class="h5 fw-bold mb-0">{{ user.name or "GitHub User" }}</h1>
                    <span class="badge-verified">âœ“ Verified via GitHub</span>
                </div>
            </div>

            <div>
                <div class="info-row">
                    <span class="info-label">Email</span>
                    <span>{{ user.email or "â€”  (email is private)" }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">User ID</span>
                    <span class="font-monospace text-muted small">{{ user.user_id }}</span>
                </div>
            </div>
        </div>

        <!-- Actions card -->
        <div class="card p-4">
            <h2 class="h6 fw-semibold text-muted text-uppercase mb-3" style="letter-spacing:.05em;">Quick Actions</h2>
            <div class="d-grid gap-2">
                <a href="/user/events" class="btn btn-outline-primary">
                    Register for an Event
                </a>
                <a href="/admin/verify" class="btn btn-outline-secondary">
                    Verify a QR Code
                </a>
                <a href="/auth/logout" class="btn btn-outline-danger" id="logout-btn">
                    Sign Out
                </a>
            </div>
        </div>

    </div>
</div>
{% endblock %}
